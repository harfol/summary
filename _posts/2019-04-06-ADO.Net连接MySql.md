---
layout: post
title: ADO.Net连接MySql
date: 2019-04-06 19:20:23 +0900
category:  .NET  MySQL5.7
---
## ADO.NET Mysql VS2017插件、驱动 
插件 [提取码：w5ib ](https://pan.baidu.com/s/1bNm8e20hZU6cnU0H7CzHnQ )
驱动 [提取码：ykc3 ](https://pan.baidu.com/s/1JExlZDO9-4CgkjrjgcyrQg )
项目Nuget包添加：Mysql.Data（对应驱动版本）

## ADO.NET Mysql 引用命名空间

|命名空间|功能|  
|-|-|  
|System.Data|XML数据操作类<br>DataTable，DataSet，DataRow，DataColumn，DataRelation，Constraint，DataColumnMapping，DataTableMapping|  
|Mysql.Data.MysqlClient|操作Mysql数据库常用类, MysqlConnection数据库连接器, MysqlCommand数据库命名对象, MysqlCommandBuilder生存SQL命令, MysqlDataReader数据读取器, MysqlDataAdapter数据适配器，填充DataSet, MysqlParameter为存储过程定义参数, MysqlTransaction数据库事物|  

## ADO.NET Mysql常用操作类详解
|类|功能|用法|主要属性|主要方法|  
|-|-|-|-|-|  
|MysqlConnection|连接数据库|MySqlConnection conn=new MySqlConnection(connStr);|.ConnectionString(连接数据库字符串), .State(连接状态Closed、Open两种)|.Open()(打开连接), .Close()(关闭连接)|  
|MysqlCommand|数据库sql操作|MySqlCommand cmd=new MySqlCommand(sqlStr, conn);|.CommandType(命令类型一般为CommandType.Text)|.ExecuteNonQuery() (执行insert,delete,update操作，返回受影响行数) .ExecuteReader() (返回MysqlDataReader对象)|  
|MysqlDataReader|包含返回的数据|MySqlDataReader data=cmd.ExecuteReader()|[下标/列名]当前行对应的属性值|.Read() (光标移动到下一行，返回flase表示结束)|  

## ADO.NET 连接字符串

|数据库类型|连接字符串|  
|-|-|  
|(基本语法)|数据源(Data Source)+数据库名称(Initial Catalog)+用户名(User ID)+密码(Password)|  
|SQL Server|标准安全连接：Data Source=.;Initial Catalog=myDataBase;User Id=myUsername;Password=myPassword;<br>或者Server=myServerAddress;Database=myDataBase;User Id=myUsername;Password=myPassword;Trusted_Connection=False;<br>可信连接：Data Source=myServerAddress;Initial Catalog=myDataBase;Integrated Security=SSPI;<br>或者Server=myServerAddress;Database=myDatabase;Trusted_Connection=True; |  
|Access|Provider=Microsoft.Jet.OLEDB.4.0;Data Source=C:\myDatabase.mdb;User Id=admin;Password=;|  
|MySQL|Server=myServerAddress;Database=myDatabase;Uid=myUsername;Pwd=myPassword;|  
|DB2|Server=myAddress:myPortNumber;Database=myDatabase;UID=myUsername;PWD=myPassword;|  
|Oracle|Data Source=TORCL;User Id=myUsername;Password=myPassword; |  


<!--stackedit_data:
eyJoaXN0b3J5IjpbMjA5MDY4MTA5OV19
-->